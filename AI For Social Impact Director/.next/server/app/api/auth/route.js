/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/route";
exports.ids = ["app/api/auth/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$":
/*!****************************************************!*\
  !*** ./node_modules/mysql2/lib/ sync ^cardinal.*$ ***!
  \****************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/mysql2/lib sync recursive ^cardinal.*$";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "timers":
/*!*************************!*\
  !*** external "timers" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("timers");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Froute&page=%2Fapi%2Fauth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Froute.js&appDir=D%3A%5Cureka%20work%5Cwebsite%5CUREKA%5Cipp-project%5CAI%20For%20Social%20Impact%20Director%5CAI%20For%20Social%20Impact%20Director%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cureka%20work%5Cwebsite%5CUREKA%5Cipp-project%5CAI%20For%20Social%20Impact%20Director%5CAI%20For%20Social%20Impact%20Director&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Froute&page=%2Fapi%2Fauth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Froute.js&appDir=D%3A%5Cureka%20work%5Cwebsite%5CUREKA%5Cipp-project%5CAI%20For%20Social%20Impact%20Director%5CAI%20For%20Social%20Impact%20Director%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cureka%20work%5Cwebsite%5CUREKA%5Cipp-project%5CAI%20For%20Social%20Impact%20Director%5CAI%20For%20Social%20Impact%20Director&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_ureka_work_website_UREKA_ipp_project_AI_For_Social_Impact_Director_AI_For_Social_Impact_Director_app_api_auth_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/route.js */ \"(rsc)/./app/api/auth/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/route\",\n        pathname: \"/api/auth\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/route\"\n    },\n    resolvedPagePath: \"D:\\\\ureka work\\\\website\\\\UREKA\\\\ipp-project\\\\AI For Social Impact Director\\\\AI For Social Impact Director\\\\app\\\\api\\\\auth\\\\route.js\",\n    nextConfigOutput,\n    userland: D_ureka_work_website_UREKA_ipp_project_AI_For_Social_Impact_Director_AI_For_Social_Impact_Director_app_api_auth_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhdXRoJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYXV0aCUyRnJvdXRlLmpzJmFwcERpcj1EJTNBJTVDdXJla2ElMjB3b3JrJTVDd2Vic2l0ZSU1Q1VSRUtBJTVDaXBwLXByb2plY3QlNUNBSSUyMEZvciUyMFNvY2lhbCUyMEltcGFjdCUyMERpcmVjdG9yJTVDQUklMjBGb3IlMjBTb2NpYWwlMjBJbXBhY3QlMjBEaXJlY3RvciU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q3VyZWthJTIwd29yayU1Q3dlYnNpdGUlNUNVUkVLQSU1Q2lwcC1wcm9qZWN0JTVDQUklMjBGb3IlMjBTb2NpYWwlMjBJbXBhY3QlMjBEaXJlY3RvciU1Q0FJJTIwRm9yJTIwU29jaWFsJTIwSW1wYWN0JTIwRGlyZWN0b3ImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ21GO0FBQ2hLO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWkteW91dGgtZGlyZWN0b3Itc2Rncy8/NmMyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFx1cmVrYSB3b3JrXFxcXHdlYnNpdGVcXFxcVVJFS0FcXFxcaXBwLXByb2plY3RcXFxcQUkgRm9yIFNvY2lhbCBJbXBhY3QgRGlyZWN0b3JcXFxcQUkgRm9yIFNvY2lhbCBJbXBhY3QgRGlyZWN0b3JcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXHJvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXHVyZWthIHdvcmtcXFxcd2Vic2l0ZVxcXFxVUkVLQVxcXFxpcHAtcHJvamVjdFxcXFxBSSBGb3IgU29jaWFsIEltcGFjdCBEaXJlY3RvclxcXFxBSSBGb3IgU29jaWFsIEltcGFjdCBEaXJlY3RvclxcXFxhcHBcXFxcYXBpXFxcXGF1dGhcXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2F1dGgvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Froute&page=%2Fapi%2Fauth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Froute.js&appDir=D%3A%5Cureka%20work%5Cwebsite%5CUREKA%5Cipp-project%5CAI%20For%20Social%20Impact%20Director%5CAI%20For%20Social%20Impact%20Director%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cureka%20work%5Cwebsite%5CUREKA%5Cipp-project%5CAI%20For%20Social%20Impact%20Director%5CAI%20For%20Social%20Impact%20Director&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/route.js":
/*!*******************************!*\
  !*** ./app/api/auth/route.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.js\");\n/* harmony import */ var _lib_setup_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/setup-db */ \"(rsc)/./lib/setup-db.js\");\n\n\n\nconst dynamic = \"force-dynamic\";\nasync function GET() {\n    try {\n        // Ensure database tables exist\n        try {\n            await (0,_lib_setup_db__WEBPACK_IMPORTED_MODULE_2__.setupDatabase)();\n        } catch (setupError) {\n            console.error(\"Database setup error:\", setupError);\n        }\n        const user = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.getCurrentUser)();\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                authenticated: false\n            }, {\n                status: 200\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            authenticated: true,\n            user: {\n                id: user.id,\n                fullName: user.full_name,\n                email: user.email\n            }\n        });\n    } catch (error) {\n        console.error(\"Auth check error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            authenticated: false\n        }, {\n            status: 200\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvcm91dGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEM7QUFDQztBQUNHO0FBRXZDLE1BQU1HLFVBQVUsZ0JBQWU7QUFFL0IsZUFBZUM7SUFDcEIsSUFBSTtRQUNGLCtCQUErQjtRQUMvQixJQUFJO1lBQ0YsTUFBTUYsNERBQWFBO1FBQ3JCLEVBQUUsT0FBT0csWUFBWTtZQUNuQkMsUUFBUUMsS0FBSyxDQUFDLHlCQUF5QkY7UUFDekM7UUFFQSxNQUFNRyxPQUFPLE1BQU1QLHlEQUFjQTtRQUVqQyxJQUFJLENBQUNPLE1BQU07WUFDVCxPQUFPUixxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO2dCQUFFQyxlQUFlO1lBQU0sR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ25FO1FBRUEsT0FBT1gscURBQVlBLENBQUNTLElBQUksQ0FBQztZQUN2QkMsZUFBZTtZQUNmRixNQUFNO2dCQUNKSSxJQUFJSixLQUFLSSxFQUFFO2dCQUNYQyxVQUFVTCxLQUFLTSxTQUFTO2dCQUN4QkMsT0FBT1AsS0FBS08sS0FBSztZQUNuQjtRQUNGO0lBQ0YsRUFBRSxPQUFPUixPQUFPO1FBQ2RELFFBQVFDLEtBQUssQ0FBQyxxQkFBcUJBO1FBQ25DLE9BQU9QLHFEQUFZQSxDQUFDUyxJQUFJLENBQUM7WUFBRUMsZUFBZTtRQUFNLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ25FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS15b3V0aC1kaXJlY3Rvci1zZGdzLy4vYXBwL2FwaS9hdXRoL3JvdXRlLmpzPzZlYWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCB7IGdldEN1cnJlbnRVc2VyIH0gZnJvbSAnQC9saWIvYXV0aCdcclxuaW1wb3J0IHsgc2V0dXBEYXRhYmFzZSB9IGZyb20gJ0AvbGliL3NldHVwLWRiJ1xyXG5cclxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYydcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEVuc3VyZSBkYXRhYmFzZSB0YWJsZXMgZXhpc3RcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IHNldHVwRGF0YWJhc2UoKVxyXG4gICAgfSBjYXRjaCAoc2V0dXBFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBzZXR1cCBlcnJvcjonLCBzZXR1cEVycm9yKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpXHJcbiAgICBcclxuICAgIGlmICghdXNlcikge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBhdXRoZW50aWNhdGVkOiBmYWxzZSB9LCB7IHN0YXR1czogMjAwIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcclxuICAgICAgdXNlcjoge1xyXG4gICAgICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgICAgIGZ1bGxOYW1lOiB1c2VyLmZ1bGxfbmFtZSxcclxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGggY2hlY2sgZXJyb3I6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBhdXRoZW50aWNhdGVkOiBmYWxzZSB9LCB7IHN0YXR1czogMjAwIH0pXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRDdXJyZW50VXNlciIsInNldHVwRGF0YWJhc2UiLCJkeW5hbWljIiwiR0VUIiwic2V0dXBFcnJvciIsImNvbnNvbGUiLCJlcnJvciIsInVzZXIiLCJqc29uIiwiYXV0aGVudGljYXRlZCIsInN0YXR1cyIsImlkIiwiZnVsbE5hbWUiLCJmdWxsX25hbWUiLCJlbWFpbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSession: () => (/* binding */ createSession),\n/* harmony export */   deleteSession: () => (/* binding */ deleteSession),\n/* harmony export */   generateSessionToken: () => (/* binding */ generateSessionToken),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   verifySession: () => (/* binding */ verifySession)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.js\");\n\n\n\n// Generate a secure random session token\nfunction generateSessionToken() {\n    return crypto__WEBPACK_IMPORTED_MODULE_1___default().randomBytes(32).toString(\"hex\");\n}\n// Create a session for a user\nasync function createSession(userId) {\n    const token = generateSessionToken();\n    const expiresAt = new Date();\n    expiresAt.setDate(expiresAt.getDate() + 30) // 30 days\n    ;\n    // Insert session into database\n    await (0,_db__WEBPACK_IMPORTED_MODULE_2__.queryDB)(\"INSERT INTO user_sessions (user_id, session_token, expires_at) VALUES (?, ?, ?)\", [\n        userId,\n        token,\n        expiresAt\n    ]);\n    return {\n        token,\n        expiresAt\n    };\n}\n// Verify and get user from session token\nasync function verifySession(token) {\n    if (!token) return null;\n    const sessions = await (0,_db__WEBPACK_IMPORTED_MODULE_2__.queryDB)(\"SELECT user_id, expires_at FROM user_sessions WHERE session_token = ? AND expires_at > NOW()\", [\n        token\n    ]);\n    if (!sessions || sessions.length === 0) {\n        return null;\n    }\n    const session = sessions[0];\n    return session.user_id;\n}\n// Delete a session\nasync function deleteSession(token) {\n    if (!token) return;\n    await (0,_db__WEBPACK_IMPORTED_MODULE_2__.queryDB)(\"DELETE FROM user_sessions WHERE session_token = ?\", [\n        token\n    ]);\n}\n// Get user from request (server-side)\nasync function getCurrentUser(request = null) {\n    try {\n        let token = null;\n        // Try to get token from cookies (Next.js 15+)\n        try {\n            const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();\n            token = cookieStore.get(\"session_token\")?.value;\n        } catch (cookieError) {\n            // If cookies() fails, try to get from request headers\n            if (request) {\n                const cookieHeader = request.headers.get(\"cookie\");\n                if (cookieHeader) {\n                    const cookies = cookieHeader.split(\";\").reduce((acc, cookie)=>{\n                        const [key, value] = cookie.trim().split(\"=\");\n                        acc[key] = value;\n                        return acc;\n                    }, {});\n                    token = cookies[\"session_token\"];\n                }\n            }\n        }\n        if (!token) return null;\n        const userId = await verifySession(token);\n        if (!userId) return null;\n        const users = await (0,_db__WEBPACK_IMPORTED_MODULE_2__.queryDB)(\"SELECT id, full_name, email, phone, created_at FROM users WHERE id = ? AND status = ?\", [\n            userId,\n            \"active\"\n        ]);\n        if (!users || users.length === 0) return null;\n        return users[0];\n    } catch (error) {\n        console.error(\"Error getting current user:\", error);\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBc0M7QUFDWDtBQUNHO0FBRTlCLHlDQUF5QztBQUNsQyxTQUFTRztJQUNkLE9BQU9GLHlEQUFrQixDQUFDLElBQUlJLFFBQVEsQ0FBQztBQUN6QztBQUVBLDhCQUE4QjtBQUN2QixlQUFlQyxjQUFjQyxNQUFNO0lBQ3hDLE1BQU1DLFFBQVFMO0lBQ2QsTUFBTU0sWUFBWSxJQUFJQztJQUN0QkQsVUFBVUUsT0FBTyxDQUFDRixVQUFVRyxPQUFPLEtBQUssSUFBSSxVQUFVOztJQUV0RCwrQkFBK0I7SUFDL0IsTUFBTVYsNENBQU9BLENBQ1gsbUZBQ0E7UUFBQ0s7UUFBUUM7UUFBT0M7S0FBVTtJQUc1QixPQUFPO1FBQUVEO1FBQU9DO0lBQVU7QUFDNUI7QUFFQSx5Q0FBeUM7QUFDbEMsZUFBZUksY0FBY0wsS0FBSztJQUN2QyxJQUFJLENBQUNBLE9BQU8sT0FBTztJQUVuQixNQUFNTSxXQUFXLE1BQU1aLDRDQUFPQSxDQUM1QixnR0FDQTtRQUFDTTtLQUFNO0lBR1QsSUFBSSxDQUFDTSxZQUFZQSxTQUFTQyxNQUFNLEtBQUssR0FBRztRQUN0QyxPQUFPO0lBQ1Q7SUFFQSxNQUFNQyxVQUFVRixRQUFRLENBQUMsRUFBRTtJQUMzQixPQUFPRSxRQUFRQyxPQUFPO0FBQ3hCO0FBRUEsbUJBQW1CO0FBQ1osZUFBZUMsY0FBY1YsS0FBSztJQUN2QyxJQUFJLENBQUNBLE9BQU87SUFDWixNQUFNTiw0Q0FBT0EsQ0FBQyxxREFBcUQ7UUFBQ007S0FBTTtBQUM1RTtBQUVBLHNDQUFzQztBQUMvQixlQUFlVyxlQUFlQyxVQUFVLElBQUk7SUFDakQsSUFBSTtRQUNGLElBQUlaLFFBQVE7UUFFWiw4Q0FBOEM7UUFDOUMsSUFBSTtZQUNGLE1BQU1hLGNBQWMsTUFBTXJCLHFEQUFPQTtZQUNqQ1EsUUFBUWEsWUFBWUMsR0FBRyxDQUFDLGtCQUFrQkM7UUFDNUMsRUFBRSxPQUFPQyxhQUFhO1lBQ3BCLHNEQUFzRDtZQUN0RCxJQUFJSixTQUFTO2dCQUNYLE1BQU1LLGVBQWVMLFFBQVFNLE9BQU8sQ0FBQ0osR0FBRyxDQUFDO2dCQUN6QyxJQUFJRyxjQUFjO29CQUNoQixNQUFNekIsVUFBVXlCLGFBQWFFLEtBQUssQ0FBQyxLQUFLQyxNQUFNLENBQUMsQ0FBQ0MsS0FBS0M7d0JBQ25ELE1BQU0sQ0FBQ0MsS0FBS1IsTUFBTSxHQUFHTyxPQUFPRSxJQUFJLEdBQUdMLEtBQUssQ0FBQzt3QkFDekNFLEdBQUcsQ0FBQ0UsSUFBSSxHQUFHUjt3QkFDWCxPQUFPTTtvQkFDVCxHQUFHLENBQUM7b0JBQ0pyQixRQUFRUixPQUFPLENBQUMsZ0JBQWdCO2dCQUNsQztZQUNGO1FBQ0Y7UUFFQSxJQUFJLENBQUNRLE9BQU8sT0FBTztRQUVuQixNQUFNRCxTQUFTLE1BQU1NLGNBQWNMO1FBQ25DLElBQUksQ0FBQ0QsUUFBUSxPQUFPO1FBRXBCLE1BQU0wQixRQUFRLE1BQU0vQiw0Q0FBT0EsQ0FBQyx5RkFBeUY7WUFBQ0s7WUFBUTtTQUFTO1FBRXZJLElBQUksQ0FBQzBCLFNBQVNBLE1BQU1sQixNQUFNLEtBQUssR0FBRyxPQUFPO1FBRXpDLE9BQU9rQixLQUFLLENBQUMsRUFBRTtJQUNqQixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLCtCQUErQkE7UUFDN0MsT0FBTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS15b3V0aC1kaXJlY3Rvci1zZGdzLy4vbGliL2F1dGguanM/Mjg3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJ1xyXG5pbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0bydcclxuaW1wb3J0IHsgcXVlcnlEQiB9IGZyb20gJy4vZGInXHJcblxyXG4vLyBHZW5lcmF0ZSBhIHNlY3VyZSByYW5kb20gc2Vzc2lvbiB0b2tlblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTZXNzaW9uVG9rZW4oKSB7XHJcbiAgcmV0dXJuIGNyeXB0by5yYW5kb21CeXRlcygzMikudG9TdHJpbmcoJ2hleCcpXHJcbn1cclxuXHJcbi8vIENyZWF0ZSBhIHNlc3Npb24gZm9yIGEgdXNlclxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlU2Vzc2lvbih1c2VySWQpIHtcclxuICBjb25zdCB0b2tlbiA9IGdlbmVyYXRlU2Vzc2lvblRva2VuKClcclxuICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSgpXHJcbiAgZXhwaXJlc0F0LnNldERhdGUoZXhwaXJlc0F0LmdldERhdGUoKSArIDMwKSAvLyAzMCBkYXlzXHJcblxyXG4gIC8vIEluc2VydCBzZXNzaW9uIGludG8gZGF0YWJhc2VcclxuICBhd2FpdCBxdWVyeURCKFxyXG4gICAgJ0lOU0VSVCBJTlRPIHVzZXJfc2Vzc2lvbnMgKHVzZXJfaWQsIHNlc3Npb25fdG9rZW4sIGV4cGlyZXNfYXQpIFZBTFVFUyAoPywgPywgPyknLFxyXG4gICAgW3VzZXJJZCwgdG9rZW4sIGV4cGlyZXNBdF1cclxuICApXHJcblxyXG4gIHJldHVybiB7IHRva2VuLCBleHBpcmVzQXQgfVxyXG59XHJcblxyXG4vLyBWZXJpZnkgYW5kIGdldCB1c2VyIGZyb20gc2Vzc2lvbiB0b2tlblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5U2Vzc2lvbih0b2tlbikge1xyXG4gIGlmICghdG9rZW4pIHJldHVybiBudWxsXHJcblxyXG4gIGNvbnN0IHNlc3Npb25zID0gYXdhaXQgcXVlcnlEQihcclxuICAgICdTRUxFQ1QgdXNlcl9pZCwgZXhwaXJlc19hdCBGUk9NIHVzZXJfc2Vzc2lvbnMgV0hFUkUgc2Vzc2lvbl90b2tlbiA9ID8gQU5EIGV4cGlyZXNfYXQgPiBOT1coKScsXHJcbiAgICBbdG9rZW5dXHJcbiAgKVxyXG5cclxuICBpZiAoIXNlc3Npb25zIHx8IHNlc3Npb25zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIGNvbnN0IHNlc3Npb24gPSBzZXNzaW9uc1swXVxyXG4gIHJldHVybiBzZXNzaW9uLnVzZXJfaWRcclxufVxyXG5cclxuLy8gRGVsZXRlIGEgc2Vzc2lvblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlU2Vzc2lvbih0b2tlbikge1xyXG4gIGlmICghdG9rZW4pIHJldHVyblxyXG4gIGF3YWl0IHF1ZXJ5REIoJ0RFTEVURSBGUk9NIHVzZXJfc2Vzc2lvbnMgV0hFUkUgc2Vzc2lvbl90b2tlbiA9ID8nLCBbdG9rZW5dKVxyXG59XHJcblxyXG4vLyBHZXQgdXNlciBmcm9tIHJlcXVlc3QgKHNlcnZlci1zaWRlKVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIocmVxdWVzdCA9IG51bGwpIHtcclxuICB0cnkge1xyXG4gICAgbGV0IHRva2VuID0gbnVsbFxyXG4gICAgXHJcbiAgICAvLyBUcnkgdG8gZ2V0IHRva2VuIGZyb20gY29va2llcyAoTmV4dC5qcyAxNSspXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKVxyXG4gICAgICB0b2tlbiA9IGNvb2tpZVN0b3JlLmdldCgnc2Vzc2lvbl90b2tlbicpPy52YWx1ZVxyXG4gICAgfSBjYXRjaCAoY29va2llRXJyb3IpIHtcclxuICAgICAgLy8gSWYgY29va2llcygpIGZhaWxzLCB0cnkgdG8gZ2V0IGZyb20gcmVxdWVzdCBoZWFkZXJzXHJcbiAgICAgIGlmIChyZXF1ZXN0KSB7XHJcbiAgICAgICAgY29uc3QgY29va2llSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnY29va2llJylcclxuICAgICAgICBpZiAoY29va2llSGVhZGVyKSB7XHJcbiAgICAgICAgICBjb25zdCBjb29raWVzID0gY29va2llSGVhZGVyLnNwbGl0KCc7JykucmVkdWNlKChhY2MsIGNvb2tpZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBjb29raWUudHJpbSgpLnNwbGl0KCc9JylcclxuICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZVxyXG4gICAgICAgICAgICByZXR1cm4gYWNjXHJcbiAgICAgICAgICB9LCB7fSlcclxuICAgICAgICAgIHRva2VuID0gY29va2llc1snc2Vzc2lvbl90b2tlbiddXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghdG9rZW4pIHJldHVybiBudWxsXHJcblxyXG4gICAgY29uc3QgdXNlcklkID0gYXdhaXQgdmVyaWZ5U2Vzc2lvbih0b2tlbilcclxuICAgIGlmICghdXNlcklkKSByZXR1cm4gbnVsbFxyXG5cclxuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgcXVlcnlEQignU0VMRUNUIGlkLCBmdWxsX25hbWUsIGVtYWlsLCBwaG9uZSwgY3JlYXRlZF9hdCBGUk9NIHVzZXJzIFdIRVJFIGlkID0gPyBBTkQgc3RhdHVzID0gPycsIFt1c2VySWQsICdhY3RpdmUnXSlcclxuICAgIFxyXG4gICAgaWYgKCF1c2VycyB8fCB1c2Vycy5sZW5ndGggPT09IDApIHJldHVybiBudWxsXHJcbiAgICBcclxuICAgIHJldHVybiB1c2Vyc1swXVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcjonLCBlcnJvcilcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjb29raWVzIiwiY3J5cHRvIiwicXVlcnlEQiIsImdlbmVyYXRlU2Vzc2lvblRva2VuIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsImNyZWF0ZVNlc3Npb24iLCJ1c2VySWQiLCJ0b2tlbiIsImV4cGlyZXNBdCIsIkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInZlcmlmeVNlc3Npb24iLCJzZXNzaW9ucyIsImxlbmd0aCIsInNlc3Npb24iLCJ1c2VyX2lkIiwiZGVsZXRlU2Vzc2lvbiIsImdldEN1cnJlbnRVc2VyIiwicmVxdWVzdCIsImNvb2tpZVN0b3JlIiwiZ2V0IiwidmFsdWUiLCJjb29raWVFcnJvciIsImNvb2tpZUhlYWRlciIsImhlYWRlcnMiLCJzcGxpdCIsInJlZHVjZSIsImFjYyIsImNvb2tpZSIsImtleSIsInRyaW0iLCJ1c2VycyIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.js\n");

/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   closeDB: () => (/* binding */ closeDB),\n/* harmony export */   connectDB: () => (/* binding */ connectDB),\n/* harmony export */   getConnection: () => (/* binding */ getConnection),\n/* harmony export */   getPool: () => (/* binding */ getPool),\n/* harmony export */   queryDB: () => (/* binding */ queryDB),\n/* harmony export */   testConnection: () => (/* binding */ testConnection)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"(rsc)/./node_modules/mysql2/promise.js\");\n\n// Database configuration using environment variables\nconst dbConfig = {\n    host: process.env.DB_HOST || \"localhost\",\n    port: parseInt(process.env.DB_PORT) || 3306,\n    user: process.env.DB_USER || \"root\",\n    password: process.env.DB_PASSWORD || \"\",\n    database: process.env.DB_NAME || \"signup_db\",\n    waitForConnections: true,\n    connectionLimit: 10,\n    queueLimit: 0,\n    enableKeepAlive: true,\n    keepAliveInitialDelay: 0\n};\n// Singleton connection pool to prevent multiple connections\nlet pool = null;\n/**\r\n * Get or create the database connection pool\r\n * Prevents multiple connections by reusing the same pool\r\n */ function getPool() {\n    if (!pool) {\n        pool = mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool(dbConfig);\n        console.log(\"MySQL connection pool created\");\n    }\n    return pool;\n}\n/**\r\n * Connect to MySQL database and create database if it doesn't exist\r\n * Uses connection pool for better performance\r\n */ async function connectDB() {\n    try {\n        // Validate environment variables\n        if (!dbConfig.host || !dbConfig.user) {\n            throw new Error(\"Database configuration missing. Please set DB_HOST, DB_USER, and DB_PASSWORD in .env.local\");\n        }\n        // Create a temporary connection to create database if needed\n        const tempConnection = await mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createConnection({\n            host: dbConfig.host,\n            port: dbConfig.port,\n            user: dbConfig.user,\n            password: dbConfig.password\n        });\n        // Create database if it doesn't exist\n        await tempConnection.query(`CREATE DATABASE IF NOT EXISTS \\`${dbConfig.database}\\``);\n        await tempConnection.end();\n        // Initialize connection pool with database\n        if (!pool) {\n            pool = mysql2_promise__WEBPACK_IMPORTED_MODULE_0__.createPool({\n                ...dbConfig,\n                database: dbConfig.database\n            });\n            // Test the connection\n            const testConnection = await pool.getConnection();\n            await testConnection.ping();\n            testConnection.release();\n            console.log(`✅ Connected to MySQL database: ${dbConfig.database}`);\n        }\n        return pool;\n    } catch (error) {\n        console.error(\"❌ Database connection error:\", error.message);\n        console.error(\"Database config:\", {\n            host: dbConfig.host,\n            port: dbConfig.port,\n            user: dbConfig.user,\n            database: dbConfig.database,\n            hasPassword: !!dbConfig.password\n        });\n        throw error;\n    }\n}\n/**\r\n * Execute a query with prepared statements (prevents SQL injection)\r\n * @param {string} query - SQL query with ? placeholders\r\n * @param {Array} params - Parameters to replace ? placeholders\r\n * @returns {Promise<Array>} Query results\r\n */ async function queryDB(query, params = []) {\n    try {\n        // Ensure connection pool exists\n        if (!pool) {\n            await connectDB();\n        }\n        // Execute query with prepared statements\n        const [results] = await pool.execute(query, params);\n        return results;\n    } catch (error) {\n        console.error(\"❌ Query error:\", error.message);\n        console.error(\"Query:\", query);\n        console.error(\"Params:\", params);\n        throw error;\n    }\n}\n/**\r\n * Get a connection from the pool (for transactions)\r\n * Remember to release it after use!\r\n * @returns {Promise<mysql.PoolConnection>}\r\n */ async function getConnection() {\n    if (!pool) {\n        await connectDB();\n    }\n    return await pool.getConnection();\n}\n/**\r\n * Close all database connections\r\n * Useful for cleanup or testing\r\n */ async function closeDB() {\n    if (pool) {\n        await pool.end();\n        pool = null;\n        console.log(\"Database connections closed\");\n    }\n}\n/**\r\n * Test database connection\r\n * @returns {Promise<Object>} Connection status\r\n */ async function testConnection() {\n    try {\n        if (!pool) {\n            await connectDB();\n        }\n        const connection = await pool.getConnection();\n        await connection.ping();\n        connection.release();\n        return {\n            success: true,\n            message: \"Database connection successful\",\n            database: dbConfig.database,\n            host: dbConfig.host,\n            port: dbConfig.port\n        };\n    } catch (error) {\n        return {\n            success: false,\n            message: error.message,\n            error: error.code\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFrQztBQUVsQyxxREFBcUQ7QUFDckQsTUFBTUMsV0FBVztJQUNmQyxNQUFNQyxRQUFRQyxHQUFHLENBQUNDLE9BQU8sSUFBSTtJQUM3QkMsTUFBTUMsU0FBU0osUUFBUUMsR0FBRyxDQUFDSSxPQUFPLEtBQUs7SUFDdkNDLE1BQU1OLFFBQVFDLEdBQUcsQ0FBQ00sT0FBTyxJQUFJO0lBQzdCQyxVQUFVUixRQUFRQyxHQUFHLENBQUNRLFdBQVcsSUFBSTtJQUNyQ0MsVUFBVVYsUUFBUUMsR0FBRyxDQUFDVSxPQUFPLElBQUk7SUFDakNDLG9CQUFvQjtJQUNwQkMsaUJBQWlCO0lBQ2pCQyxZQUFZO0lBQ1pDLGlCQUFpQjtJQUNqQkMsdUJBQXVCO0FBQ3pCO0FBRUEsNERBQTREO0FBQzVELElBQUlDLE9BQU87QUFFWDs7O0NBR0MsR0FDTSxTQUFTQztJQUNkLElBQUksQ0FBQ0QsTUFBTTtRQUNUQSxPQUFPcEIsc0RBQWdCLENBQUNDO1FBQ3hCc0IsUUFBUUMsR0FBRyxDQUFDO0lBQ2Q7SUFDQSxPQUFPSjtBQUNUO0FBRUE7OztDQUdDLEdBQ00sZUFBZUs7SUFDcEIsSUFBSTtRQUNGLGlDQUFpQztRQUNqQyxJQUFJLENBQUN4QixTQUFTQyxJQUFJLElBQUksQ0FBQ0QsU0FBU1EsSUFBSSxFQUFFO1lBQ3BDLE1BQU0sSUFBSWlCLE1BQ1I7UUFFSjtRQUVBLDZEQUE2RDtRQUM3RCxNQUFNQyxpQkFBaUIsTUFBTTNCLDREQUFzQixDQUFDO1lBQ2xERSxNQUFNRCxTQUFTQyxJQUFJO1lBQ25CSSxNQUFNTCxTQUFTSyxJQUFJO1lBQ25CRyxNQUFNUixTQUFTUSxJQUFJO1lBQ25CRSxVQUFVVixTQUFTVSxRQUFRO1FBQzdCO1FBRUEsc0NBQXNDO1FBQ3RDLE1BQU1nQixlQUFlRSxLQUFLLENBQUMsQ0FBQyxnQ0FBZ0MsRUFBRTVCLFNBQVNZLFFBQVEsQ0FBQyxFQUFFLENBQUM7UUFDbkYsTUFBTWMsZUFBZUcsR0FBRztRQUV4QiwyQ0FBMkM7UUFDM0MsSUFBSSxDQUFDVixNQUFNO1lBQ1RBLE9BQU9wQixzREFBZ0IsQ0FBQztnQkFDdEIsR0FBR0MsUUFBUTtnQkFDWFksVUFBVVosU0FBU1ksUUFBUTtZQUM3QjtZQUVBLHNCQUFzQjtZQUN0QixNQUFNa0IsaUJBQWlCLE1BQU1YLEtBQUtZLGFBQWE7WUFDL0MsTUFBTUQsZUFBZUUsSUFBSTtZQUN6QkYsZUFBZUcsT0FBTztZQUV0QlgsUUFBUUMsR0FBRyxDQUFDLENBQUMsK0JBQStCLEVBQUV2QixTQUFTWSxRQUFRLENBQUMsQ0FBQztRQUNuRTtRQUVBLE9BQU9PO0lBQ1QsRUFBRSxPQUFPZSxPQUFPO1FBQ2RaLFFBQVFZLEtBQUssQ0FBQyxnQ0FBZ0NBLE1BQU1DLE9BQU87UUFDM0RiLFFBQVFZLEtBQUssQ0FBQyxvQkFBb0I7WUFDaENqQyxNQUFNRCxTQUFTQyxJQUFJO1lBQ25CSSxNQUFNTCxTQUFTSyxJQUFJO1lBQ25CRyxNQUFNUixTQUFTUSxJQUFJO1lBQ25CSSxVQUFVWixTQUFTWSxRQUFRO1lBQzNCd0IsYUFBYSxDQUFDLENBQUNwQyxTQUFTVSxRQUFRO1FBQ2xDO1FBQ0EsTUFBTXdCO0lBQ1I7QUFDRjtBQUVBOzs7OztDQUtDLEdBQ00sZUFBZUcsUUFBUVQsS0FBSyxFQUFFVSxTQUFTLEVBQUU7SUFDOUMsSUFBSTtRQUNGLGdDQUFnQztRQUNoQyxJQUFJLENBQUNuQixNQUFNO1lBQ1QsTUFBTUs7UUFDUjtRQUVBLHlDQUF5QztRQUN6QyxNQUFNLENBQUNlLFFBQVEsR0FBRyxNQUFNcEIsS0FBS3FCLE9BQU8sQ0FBQ1osT0FBT1U7UUFDNUMsT0FBT0M7SUFDVCxFQUFFLE9BQU9MLE9BQU87UUFDZFosUUFBUVksS0FBSyxDQUFDLGtCQUFrQkEsTUFBTUMsT0FBTztRQUM3Q2IsUUFBUVksS0FBSyxDQUFDLFVBQVVOO1FBQ3hCTixRQUFRWSxLQUFLLENBQUMsV0FBV0k7UUFDekIsTUFBTUo7SUFDUjtBQUNGO0FBRUE7Ozs7Q0FJQyxHQUNNLGVBQWVIO0lBQ3BCLElBQUksQ0FBQ1osTUFBTTtRQUNULE1BQU1LO0lBQ1I7SUFDQSxPQUFPLE1BQU1MLEtBQUtZLGFBQWE7QUFDakM7QUFFQTs7O0NBR0MsR0FDTSxlQUFlVTtJQUNwQixJQUFJdEIsTUFBTTtRQUNSLE1BQU1BLEtBQUtVLEdBQUc7UUFDZFYsT0FBTztRQUNQRyxRQUFRQyxHQUFHLENBQUM7SUFDZDtBQUNGO0FBRUE7OztDQUdDLEdBQ00sZUFBZU87SUFDcEIsSUFBSTtRQUNGLElBQUksQ0FBQ1gsTUFBTTtZQUNULE1BQU1LO1FBQ1I7UUFFQSxNQUFNa0IsYUFBYSxNQUFNdkIsS0FBS1ksYUFBYTtRQUMzQyxNQUFNVyxXQUFXVixJQUFJO1FBQ3JCVSxXQUFXVCxPQUFPO1FBRWxCLE9BQU87WUFDTFUsU0FBUztZQUNUUixTQUFTO1lBQ1R2QixVQUFVWixTQUFTWSxRQUFRO1lBQzNCWCxNQUFNRCxTQUFTQyxJQUFJO1lBQ25CSSxNQUFNTCxTQUFTSyxJQUFJO1FBQ3JCO0lBQ0YsRUFBRSxPQUFPNkIsT0FBTztRQUNkLE9BQU87WUFDTFMsU0FBUztZQUNUUixTQUFTRCxNQUFNQyxPQUFPO1lBQ3RCRCxPQUFPQSxNQUFNVSxJQUFJO1FBQ25CO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLXlvdXRoLWRpcmVjdG9yLXNkZ3MvLi9saWIvZGIuanM/M2RjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXlzcWwgZnJvbSAnbXlzcWwyL3Byb21pc2UnXHJcblxyXG4vLyBEYXRhYmFzZSBjb25maWd1cmF0aW9uIHVzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlc1xyXG5jb25zdCBkYkNvbmZpZyA9IHtcclxuICBob3N0OiBwcm9jZXNzLmVudi5EQl9IT1NUIHx8ICdsb2NhbGhvc3QnLFxyXG4gIHBvcnQ6IHBhcnNlSW50KHByb2Nlc3MuZW52LkRCX1BPUlQpIHx8IDMzMDYsXHJcbiAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUiB8fCAncm9vdCcsXHJcbiAgcGFzc3dvcmQ6IHByb2Nlc3MuZW52LkRCX1BBU1NXT1JEIHx8ICcnLFxyXG4gIGRhdGFiYXNlOiBwcm9jZXNzLmVudi5EQl9OQU1FIHx8ICdzaWdudXBfZGInLFxyXG4gIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcclxuICBjb25uZWN0aW9uTGltaXQ6IDEwLFxyXG4gIHF1ZXVlTGltaXQ6IDAsXHJcbiAgZW5hYmxlS2VlcEFsaXZlOiB0cnVlLFxyXG4gIGtlZXBBbGl2ZUluaXRpYWxEZWxheTogMCxcclxufVxyXG5cclxuLy8gU2luZ2xldG9uIGNvbm5lY3Rpb24gcG9vbCB0byBwcmV2ZW50IG11bHRpcGxlIGNvbm5lY3Rpb25zXHJcbmxldCBwb29sID0gbnVsbFxyXG5cclxuLyoqXHJcbiAqIEdldCBvciBjcmVhdGUgdGhlIGRhdGFiYXNlIGNvbm5lY3Rpb24gcG9vbFxyXG4gKiBQcmV2ZW50cyBtdWx0aXBsZSBjb25uZWN0aW9ucyBieSByZXVzaW5nIHRoZSBzYW1lIHBvb2xcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb29sKCkge1xyXG4gIGlmICghcG9vbCkge1xyXG4gICAgcG9vbCA9IG15c3FsLmNyZWF0ZVBvb2woZGJDb25maWcpXHJcbiAgICBjb25zb2xlLmxvZygnTXlTUUwgY29ubmVjdGlvbiBwb29sIGNyZWF0ZWQnKVxyXG4gIH1cclxuICByZXR1cm4gcG9vbFxyXG59XHJcblxyXG4vKipcclxuICogQ29ubmVjdCB0byBNeVNRTCBkYXRhYmFzZSBhbmQgY3JlYXRlIGRhdGFiYXNlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcclxuICogVXNlcyBjb25uZWN0aW9uIHBvb2wgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3REQigpIHtcclxuICB0cnkge1xyXG4gICAgLy8gVmFsaWRhdGUgZW52aXJvbm1lbnQgdmFyaWFibGVzXHJcbiAgICBpZiAoIWRiQ29uZmlnLmhvc3QgfHwgIWRiQ29uZmlnLnVzZXIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICdEYXRhYmFzZSBjb25maWd1cmF0aW9uIG1pc3NpbmcuIFBsZWFzZSBzZXQgREJfSE9TVCwgREJfVVNFUiwgYW5kIERCX1BBU1NXT1JEIGluIC5lbnYubG9jYWwnXHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhdGUgYSB0ZW1wb3JhcnkgY29ubmVjdGlvbiB0byBjcmVhdGUgZGF0YWJhc2UgaWYgbmVlZGVkXHJcbiAgICBjb25zdCB0ZW1wQ29ubmVjdGlvbiA9IGF3YWl0IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24oe1xyXG4gICAgICBob3N0OiBkYkNvbmZpZy5ob3N0LFxyXG4gICAgICBwb3J0OiBkYkNvbmZpZy5wb3J0LFxyXG4gICAgICB1c2VyOiBkYkNvbmZpZy51c2VyLFxyXG4gICAgICBwYXNzd29yZDogZGJDb25maWcucGFzc3dvcmQsXHJcbiAgICB9KVxyXG5cclxuICAgIC8vIENyZWF0ZSBkYXRhYmFzZSBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcbiAgICBhd2FpdCB0ZW1wQ29ubmVjdGlvbi5xdWVyeShgQ1JFQVRFIERBVEFCQVNFIElGIE5PVCBFWElTVFMgXFxgJHtkYkNvbmZpZy5kYXRhYmFzZX1cXGBgKVxyXG4gICAgYXdhaXQgdGVtcENvbm5lY3Rpb24uZW5kKClcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIGNvbm5lY3Rpb24gcG9vbCB3aXRoIGRhdGFiYXNlXHJcbiAgICBpZiAoIXBvb2wpIHtcclxuICAgICAgcG9vbCA9IG15c3FsLmNyZWF0ZVBvb2woe1xyXG4gICAgICAgIC4uLmRiQ29uZmlnLFxyXG4gICAgICAgIGRhdGFiYXNlOiBkYkNvbmZpZy5kYXRhYmFzZSxcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC8vIFRlc3QgdGhlIGNvbm5lY3Rpb25cclxuICAgICAgY29uc3QgdGVzdENvbm5lY3Rpb24gPSBhd2FpdCBwb29sLmdldENvbm5lY3Rpb24oKVxyXG4gICAgICBhd2FpdCB0ZXN0Q29ubmVjdGlvbi5waW5nKClcclxuICAgICAgdGVzdENvbm5lY3Rpb24ucmVsZWFzZSgpXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIENvbm5lY3RlZCB0byBNeVNRTCBkYXRhYmFzZTogJHtkYkNvbmZpZy5kYXRhYmFzZX1gKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwb29sXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBEYXRhYmFzZSBjb25uZWN0aW9uIGVycm9yOicsIGVycm9yLm1lc3NhZ2UpXHJcbiAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBjb25maWc6Jywge1xyXG4gICAgICBob3N0OiBkYkNvbmZpZy5ob3N0LFxyXG4gICAgICBwb3J0OiBkYkNvbmZpZy5wb3J0LFxyXG4gICAgICB1c2VyOiBkYkNvbmZpZy51c2VyLFxyXG4gICAgICBkYXRhYmFzZTogZGJDb25maWcuZGF0YWJhc2UsXHJcbiAgICAgIGhhc1Bhc3N3b3JkOiAhIWRiQ29uZmlnLnBhc3N3b3JkLFxyXG4gICAgfSlcclxuICAgIHRocm93IGVycm9yXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRXhlY3V0ZSBhIHF1ZXJ5IHdpdGggcHJlcGFyZWQgc3RhdGVtZW50cyAocHJldmVudHMgU1FMIGluamVjdGlvbilcclxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IC0gU1FMIHF1ZXJ5IHdpdGggPyBwbGFjZWhvbGRlcnNcclxuICogQHBhcmFtIHtBcnJheX0gcGFyYW1zIC0gUGFyYW1ldGVycyB0byByZXBsYWNlID8gcGxhY2Vob2xkZXJzXHJcbiAqIEByZXR1cm5zIHtQcm9taXNlPEFycmF5Pn0gUXVlcnkgcmVzdWx0c1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5REIocXVlcnksIHBhcmFtcyA9IFtdKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEVuc3VyZSBjb25uZWN0aW9uIHBvb2wgZXhpc3RzXHJcbiAgICBpZiAoIXBvb2wpIHtcclxuICAgICAgYXdhaXQgY29ubmVjdERCKClcclxuICAgIH1cclxuXHJcbiAgICAvLyBFeGVjdXRlIHF1ZXJ5IHdpdGggcHJlcGFyZWQgc3RhdGVtZW50c1xyXG4gICAgY29uc3QgW3Jlc3VsdHNdID0gYXdhaXQgcG9vbC5leGVjdXRlKHF1ZXJ5LCBwYXJhbXMpXHJcbiAgICByZXR1cm4gcmVzdWx0c1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgUXVlcnkgZXJyb3I6JywgZXJyb3IubWVzc2FnZSlcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1F1ZXJ5OicsIHF1ZXJ5KVxyXG4gICAgY29uc29sZS5lcnJvcignUGFyYW1zOicsIHBhcmFtcylcclxuICAgIHRocm93IGVycm9yXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogR2V0IGEgY29ubmVjdGlvbiBmcm9tIHRoZSBwb29sIChmb3IgdHJhbnNhY3Rpb25zKVxyXG4gKiBSZW1lbWJlciB0byByZWxlYXNlIGl0IGFmdGVyIHVzZSFcclxuICogQHJldHVybnMge1Byb21pc2U8bXlzcWwuUG9vbENvbm5lY3Rpb24+fVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbm5lY3Rpb24oKSB7XHJcbiAgaWYgKCFwb29sKSB7XHJcbiAgICBhd2FpdCBjb25uZWN0REIoKVxyXG4gIH1cclxuICByZXR1cm4gYXdhaXQgcG9vbC5nZXRDb25uZWN0aW9uKClcclxufVxyXG5cclxuLyoqXHJcbiAqIENsb3NlIGFsbCBkYXRhYmFzZSBjb25uZWN0aW9uc1xyXG4gKiBVc2VmdWwgZm9yIGNsZWFudXAgb3IgdGVzdGluZ1xyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsb3NlREIoKSB7XHJcbiAgaWYgKHBvb2wpIHtcclxuICAgIGF3YWl0IHBvb2wuZW5kKClcclxuICAgIHBvb2wgPSBudWxsXHJcbiAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbnMgY2xvc2VkJylcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUZXN0IGRhdGFiYXNlIGNvbm5lY3Rpb25cclxuICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0Pn0gQ29ubmVjdGlvbiBzdGF0dXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0ZXN0Q29ubmVjdGlvbigpIHtcclxuICB0cnkge1xyXG4gICAgaWYgKCFwb29sKSB7XHJcbiAgICAgIGF3YWl0IGNvbm5lY3REQigpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGF3YWl0IHBvb2wuZ2V0Q29ubmVjdGlvbigpXHJcbiAgICBhd2FpdCBjb25uZWN0aW9uLnBpbmcoKVxyXG4gICAgY29ubmVjdGlvbi5yZWxlYXNlKClcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiAnRGF0YWJhc2UgY29ubmVjdGlvbiBzdWNjZXNzZnVsJyxcclxuICAgICAgZGF0YWJhc2U6IGRiQ29uZmlnLmRhdGFiYXNlLFxyXG4gICAgICBob3N0OiBkYkNvbmZpZy5ob3N0LFxyXG4gICAgICBwb3J0OiBkYkNvbmZpZy5wb3J0LFxyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcclxuICAgICAgZXJyb3I6IGVycm9yLmNvZGUsXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJteXNxbCIsImRiQ29uZmlnIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJEQl9IT1NUIiwicG9ydCIsInBhcnNlSW50IiwiREJfUE9SVCIsInVzZXIiLCJEQl9VU0VSIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsImRhdGFiYXNlIiwiREJfTkFNRSIsIndhaXRGb3JDb25uZWN0aW9ucyIsImNvbm5lY3Rpb25MaW1pdCIsInF1ZXVlTGltaXQiLCJlbmFibGVLZWVwQWxpdmUiLCJrZWVwQWxpdmVJbml0aWFsRGVsYXkiLCJwb29sIiwiZ2V0UG9vbCIsImNyZWF0ZVBvb2wiLCJjb25zb2xlIiwibG9nIiwiY29ubmVjdERCIiwiRXJyb3IiLCJ0ZW1wQ29ubmVjdGlvbiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJxdWVyeSIsImVuZCIsInRlc3RDb25uZWN0aW9uIiwiZ2V0Q29ubmVjdGlvbiIsInBpbmciLCJyZWxlYXNlIiwiZXJyb3IiLCJtZXNzYWdlIiwiaGFzUGFzc3dvcmQiLCJxdWVyeURCIiwicGFyYW1zIiwicmVzdWx0cyIsImV4ZWN1dGUiLCJjbG9zZURCIiwiY29ubmVjdGlvbiIsInN1Y2Nlc3MiLCJjb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ }),

/***/ "(rsc)/./lib/setup-db.js":
/*!*************************!*\
  !*** ./lib/setup-db.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupDatabase: () => (/* binding */ setupDatabase)\n/* harmony export */ });\n/* harmony import */ var _db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./db */ \"(rsc)/./lib/db.js\");\n\n// Setup database tables if they don't exist\nasync function setupDatabase() {\n    try {\n        console.log(\"Setting up database tables...\");\n        // Create users table\n        await (0,_db__WEBPACK_IMPORTED_MODULE_0__.queryDB)(`\r\n      CREATE TABLE IF NOT EXISTS users (\r\n        id INT AUTO_INCREMENT PRIMARY KEY,\r\n        full_name VARCHAR(255) NOT NULL,\r\n        email VARCHAR(255) NOT NULL UNIQUE,\r\n        phone VARCHAR(50) NOT NULL,\r\n        password_hash VARCHAR(255) NOT NULL,\r\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\r\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\n        status ENUM('active', 'inactive', 'suspended') DEFAULT 'active',\r\n        INDEX idx_email (email),\r\n        INDEX idx_status (status),\r\n        INDEX idx_created_at (created_at)\r\n      ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci\r\n    `);\n        console.log(\"✓ Users table created/verified\");\n        // Create user_sessions table\n        await (0,_db__WEBPACK_IMPORTED_MODULE_0__.queryDB)(`\r\n      CREATE TABLE IF NOT EXISTS user_sessions (\r\n        id INT AUTO_INCREMENT PRIMARY KEY,\r\n        user_id INT NOT NULL,\r\n        session_token VARCHAR(255) NOT NULL UNIQUE,\r\n        expires_at TIMESTAMP NOT NULL,\r\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\r\n        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,\r\n        INDEX idx_session_token (session_token),\r\n        INDEX idx_user_id (user_id)\r\n      ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci\r\n    `);\n        console.log(\"✓ User sessions table created/verified\");\n        // Create user_videos table\n        await (0,_db__WEBPACK_IMPORTED_MODULE_0__.queryDB)(`\r\n      CREATE TABLE IF NOT EXISTS user_videos (\r\n        id INT AUTO_INCREMENT PRIMARY KEY,\r\n        user_id INT NOT NULL,\r\n        script TEXT NOT NULL,\r\n        video_url VARCHAR(500) NULL,\r\n        generation_id VARCHAR(255) NULL,\r\n        status ENUM('draft', 'processing', 'completed', 'failed') DEFAULT 'draft',\r\n        storyboard JSON NULL,\r\n        video_data JSON NULL,\r\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\r\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\n        FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,\r\n        INDEX idx_user_id (user_id),\r\n        INDEX idx_status (status),\r\n        INDEX idx_created_at (created_at)\r\n      ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci\r\n    `);\n        console.log(\"✓ User videos table created/verified\");\n        // Create generation_jobs table for async job processing\n        await (0,_db__WEBPACK_IMPORTED_MODULE_0__.queryDB)(`\r\n      CREATE TABLE IF NOT EXISTS generation_jobs (\r\n        id INT AUTO_INCREMENT PRIMARY KEY,\r\n        job_id VARCHAR(255) NOT NULL UNIQUE,\r\n        user_id INT NULL,\r\n        script TEXT NOT NULL,\r\n        status ENUM('queued', 'processing', 'completed', 'failed') DEFAULT 'queued',\r\n        progress INT DEFAULT 0,\r\n        current_step VARCHAR(255) NULL,\r\n        scenes_count INT DEFAULT 0,\r\n        storyboard JSON NULL,\r\n        scenes JSON NULL,\r\n        error_message TEXT NULL,\r\n        error_details JSON NULL,\r\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\r\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\n        completed_at TIMESTAMP NULL,\r\n        INDEX idx_job_id (job_id),\r\n        INDEX idx_user_id (user_id),\r\n        INDEX idx_status (status),\r\n        INDEX idx_created_at (created_at)\r\n      ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci\r\n    `);\n        console.log(\"✓ Generation jobs table created/verified\");\n        console.log(\"Database setup completed successfully!\");\n        return true;\n    } catch (error) {\n        console.error(\"Database setup error:\", error);\n        // If foreign key constraint fails, try creating tables without foreign keys first\n        if (error.code === \"ER_NO_REFERENCED_ROW_2\" || error.message.includes(\"foreign key\")) {\n            console.log(\"Retrying without foreign key constraints...\");\n            try {\n                // Drop and recreate sessions table without FK\n                await (0,_db__WEBPACK_IMPORTED_MODULE_0__.queryDB)(\"DROP TABLE IF EXISTS user_sessions\");\n                await (0,_db__WEBPACK_IMPORTED_MODULE_0__.queryDB)(`\r\n          CREATE TABLE IF NOT EXISTS user_sessions (\r\n            id INT AUTO_INCREMENT PRIMARY KEY,\r\n            user_id INT NOT NULL,\r\n            session_token VARCHAR(255) NOT NULL UNIQUE,\r\n            expires_at TIMESTAMP NOT NULL,\r\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\r\n            INDEX idx_session_token (session_token),\r\n            INDEX idx_user_id (user_id)\r\n          ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci\r\n        `);\n                // Drop and recreate videos table without FK\n                await (0,_db__WEBPACK_IMPORTED_MODULE_0__.queryDB)(\"DROP TABLE IF EXISTS user_videos\");\n                await (0,_db__WEBPACK_IMPORTED_MODULE_0__.queryDB)(`\r\n          CREATE TABLE IF NOT EXISTS user_videos (\r\n            id INT AUTO_INCREMENT PRIMARY KEY,\r\n            user_id INT NOT NULL,\r\n            script TEXT NOT NULL,\r\n            video_url VARCHAR(500) NULL,\r\n            generation_id VARCHAR(255) NULL,\r\n            status ENUM('draft', 'processing', 'completed', 'failed') DEFAULT 'draft',\r\n            storyboard JSON NULL,\r\n            video_data JSON NULL,\r\n            created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\r\n            updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\n            INDEX idx_user_id (user_id),\r\n            INDEX idx_status (status),\r\n            INDEX idx_created_at (created_at)\r\n          ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci\r\n        `);\n                console.log(\"Database setup completed (without foreign keys)!\");\n                return true;\n            } catch (retryError) {\n                console.error(\"Retry also failed:\", retryError);\n                throw retryError;\n            }\n        }\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc2V0dXAtZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7QUFFekMsNENBQTRDO0FBQ3JDLGVBQWVFO0lBQ3BCLElBQUk7UUFDRkMsUUFBUUMsR0FBRyxDQUFDO1FBRVoscUJBQXFCO1FBQ3JCLE1BQU1ILDRDQUFPQSxDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7O0lBY2YsQ0FBQztRQUNERSxRQUFRQyxHQUFHLENBQUM7UUFFWiw2QkFBNkI7UUFDN0IsTUFBTUgsNENBQU9BLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7SUFXZixDQUFDO1FBQ0RFLFFBQVFDLEdBQUcsQ0FBQztRQUVaLDJCQUEyQjtRQUMzQixNQUFNSCw0Q0FBT0EsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztJQWlCZixDQUFDO1FBQ0RFLFFBQVFDLEdBQUcsQ0FBQztRQUVaLHdEQUF3RDtRQUN4RCxNQUFNSCw0Q0FBT0EsQ0FBQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBc0JmLENBQUM7UUFDREUsUUFBUUMsR0FBRyxDQUFDO1FBRVpELFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87SUFDVCxFQUFFLE9BQU9DLE9BQU87UUFDZEYsUUFBUUUsS0FBSyxDQUFDLHlCQUF5QkE7UUFFdkMsa0ZBQWtGO1FBQ2xGLElBQUlBLE1BQU1DLElBQUksS0FBSyw0QkFBNEJELE1BQU1FLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLGdCQUFnQjtZQUNwRkwsUUFBUUMsR0FBRyxDQUFDO1lBQ1osSUFBSTtnQkFDRiw4Q0FBOEM7Z0JBQzlDLE1BQU1ILDRDQUFPQSxDQUFDO2dCQUNkLE1BQU1BLDRDQUFPQSxDQUFDLENBQUM7Ozs7Ozs7Ozs7UUFVZixDQUFDO2dCQUVELDRDQUE0QztnQkFDNUMsTUFBTUEsNENBQU9BLENBQUM7Z0JBQ2QsTUFBTUEsNENBQU9BLENBQUMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7OztRQWdCZixDQUFDO2dCQUNERSxRQUFRQyxHQUFHLENBQUM7Z0JBQ1osT0FBTztZQUNULEVBQUUsT0FBT0ssWUFBWTtnQkFDbkJOLFFBQVFFLEtBQUssQ0FBQyxzQkFBc0JJO2dCQUNwQyxNQUFNQTtZQUNSO1FBQ0Y7UUFFQSxNQUFNSjtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS15b3V0aC1kaXJlY3Rvci1zZGdzLy4vbGliL3NldHVwLWRiLmpzP2Q3ZWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdERCLCBxdWVyeURCIH0gZnJvbSAnLi9kYidcclxuXHJcbi8vIFNldHVwIGRhdGFiYXNlIHRhYmxlcyBpZiB0aGV5IGRvbid0IGV4aXN0XHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXR1cERhdGFiYXNlKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygnU2V0dGluZyB1cCBkYXRhYmFzZSB0YWJsZXMuLi4nKVxyXG4gICAgXHJcbiAgICAvLyBDcmVhdGUgdXNlcnMgdGFibGVcclxuICAgIGF3YWl0IHF1ZXJ5REIoYFxyXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB1c2VycyAoXHJcbiAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxyXG4gICAgICAgIGZ1bGxfbmFtZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsXHJcbiAgICAgICAgZW1haWwgVkFSQ0hBUigyNTUpIE5PVCBOVUxMIFVOSVFVRSxcclxuICAgICAgICBwaG9uZSBWQVJDSEFSKDUwKSBOT1QgTlVMTCxcclxuICAgICAgICBwYXNzd29yZF9oYXNoIFZBUkNIQVIoMjU1KSBOT1QgTlVMTCxcclxuICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QLFxyXG4gICAgICAgIHN0YXR1cyBFTlVNKCdhY3RpdmUnLCAnaW5hY3RpdmUnLCAnc3VzcGVuZGVkJykgREVGQVVMVCAnYWN0aXZlJyxcclxuICAgICAgICBJTkRFWCBpZHhfZW1haWwgKGVtYWlsKSxcclxuICAgICAgICBJTkRFWCBpZHhfc3RhdHVzIChzdGF0dXMpLFxyXG4gICAgICAgIElOREVYIGlkeF9jcmVhdGVkX2F0IChjcmVhdGVkX2F0KVxyXG4gICAgICApIEVOR0lORT1Jbm5vREIgREVGQVVMVCBDSEFSU0VUPXV0ZjhtYjQgQ09MTEFURT11dGY4bWI0X3VuaWNvZGVfY2lcclxuICAgIGApXHJcbiAgICBjb25zb2xlLmxvZygn4pyTIFVzZXJzIHRhYmxlIGNyZWF0ZWQvdmVyaWZpZWQnKVxyXG5cclxuICAgIC8vIENyZWF0ZSB1c2VyX3Nlc3Npb25zIHRhYmxlXHJcbiAgICBhd2FpdCBxdWVyeURCKGBcclxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlcl9zZXNzaW9ucyAoXHJcbiAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxyXG4gICAgICAgIHVzZXJfaWQgSU5UIE5PVCBOVUxMLFxyXG4gICAgICAgIHNlc3Npb25fdG9rZW4gVkFSQ0hBUigyNTUpIE5PVCBOVUxMIFVOSVFVRSxcclxuICAgICAgICBleHBpcmVzX2F0IFRJTUVTVEFNUCBOT1QgTlVMTCxcclxuICAgICAgICBjcmVhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QLFxyXG4gICAgICAgIEZPUkVJR04gS0VZICh1c2VyX2lkKSBSRUZFUkVOQ0VTIHVzZXJzKGlkKSBPTiBERUxFVEUgQ0FTQ0FERSxcclxuICAgICAgICBJTkRFWCBpZHhfc2Vzc2lvbl90b2tlbiAoc2Vzc2lvbl90b2tlbiksXHJcbiAgICAgICAgSU5ERVggaWR4X3VzZXJfaWQgKHVzZXJfaWQpXHJcbiAgICAgICkgRU5HSU5FPUlubm9EQiBERUZBVUxUIENIQVJTRVQ9dXRmOG1iNCBDT0xMQVRFPXV0ZjhtYjRfdW5pY29kZV9jaVxyXG4gICAgYClcclxuICAgIGNvbnNvbGUubG9nKCfinJMgVXNlciBzZXNzaW9ucyB0YWJsZSBjcmVhdGVkL3ZlcmlmaWVkJylcclxuXHJcbiAgICAvLyBDcmVhdGUgdXNlcl92aWRlb3MgdGFibGVcclxuICAgIGF3YWl0IHF1ZXJ5REIoYFxyXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB1c2VyX3ZpZGVvcyAoXHJcbiAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxyXG4gICAgICAgIHVzZXJfaWQgSU5UIE5PVCBOVUxMLFxyXG4gICAgICAgIHNjcmlwdCBURVhUIE5PVCBOVUxMLFxyXG4gICAgICAgIHZpZGVvX3VybCBWQVJDSEFSKDUwMCkgTlVMTCxcclxuICAgICAgICBnZW5lcmF0aW9uX2lkIFZBUkNIQVIoMjU1KSBOVUxMLFxyXG4gICAgICAgIHN0YXR1cyBFTlVNKCdkcmFmdCcsICdwcm9jZXNzaW5nJywgJ2NvbXBsZXRlZCcsICdmYWlsZWQnKSBERUZBVUxUICdkcmFmdCcsXHJcbiAgICAgICAgc3Rvcnlib2FyZCBKU09OIE5VTEwsXHJcbiAgICAgICAgdmlkZW9fZGF0YSBKU09OIE5VTEwsXHJcbiAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcclxuICAgICAgICB1cGRhdGVkX2F0IFRJTUVTVEFNUCBERUZBVUxUIENVUlJFTlRfVElNRVNUQU1QIE9OIFVQREFURSBDVVJSRU5UX1RJTUVTVEFNUCxcclxuICAgICAgICBGT1JFSUdOIEtFWSAodXNlcl9pZCkgUkVGRVJFTkNFUyB1c2VycyhpZCkgT04gREVMRVRFIENBU0NBREUsXHJcbiAgICAgICAgSU5ERVggaWR4X3VzZXJfaWQgKHVzZXJfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdGF0dXMgKHN0YXR1cyksXHJcbiAgICAgICAgSU5ERVggaWR4X2NyZWF0ZWRfYXQgKGNyZWF0ZWRfYXQpXHJcbiAgICAgICkgRU5HSU5FPUlubm9EQiBERUZBVUxUIENIQVJTRVQ9dXRmOG1iNCBDT0xMQVRFPXV0ZjhtYjRfdW5pY29kZV9jaVxyXG4gICAgYClcclxuICAgIGNvbnNvbGUubG9nKCfinJMgVXNlciB2aWRlb3MgdGFibGUgY3JlYXRlZC92ZXJpZmllZCcpXHJcblxyXG4gICAgLy8gQ3JlYXRlIGdlbmVyYXRpb25fam9icyB0YWJsZSBmb3IgYXN5bmMgam9iIHByb2Nlc3NpbmdcclxuICAgIGF3YWl0IHF1ZXJ5REIoYFxyXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBnZW5lcmF0aW9uX2pvYnMgKFxyXG4gICAgICAgIGlkIElOVCBBVVRPX0lOQ1JFTUVOVCBQUklNQVJZIEtFWSxcclxuICAgICAgICBqb2JfaWQgVkFSQ0hBUigyNTUpIE5PVCBOVUxMIFVOSVFVRSxcclxuICAgICAgICB1c2VyX2lkIElOVCBOVUxMLFxyXG4gICAgICAgIHNjcmlwdCBURVhUIE5PVCBOVUxMLFxyXG4gICAgICAgIHN0YXR1cyBFTlVNKCdxdWV1ZWQnLCAncHJvY2Vzc2luZycsICdjb21wbGV0ZWQnLCAnZmFpbGVkJykgREVGQVVMVCAncXVldWVkJyxcclxuICAgICAgICBwcm9ncmVzcyBJTlQgREVGQVVMVCAwLFxyXG4gICAgICAgIGN1cnJlbnRfc3RlcCBWQVJDSEFSKDI1NSkgTlVMTCxcclxuICAgICAgICBzY2VuZXNfY291bnQgSU5UIERFRkFVTFQgMCxcclxuICAgICAgICBzdG9yeWJvYXJkIEpTT04gTlVMTCxcclxuICAgICAgICBzY2VuZXMgSlNPTiBOVUxMLFxyXG4gICAgICAgIGVycm9yX21lc3NhZ2UgVEVYVCBOVUxMLFxyXG4gICAgICAgIGVycm9yX2RldGFpbHMgSlNPTiBOVUxMLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXHJcbiAgICAgICAgdXBkYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCBPTiBVUERBVEUgQ1VSUkVOVF9USU1FU1RBTVAsXHJcbiAgICAgICAgY29tcGxldGVkX2F0IFRJTUVTVEFNUCBOVUxMLFxyXG4gICAgICAgIElOREVYIGlkeF9qb2JfaWQgKGpvYl9pZCksXHJcbiAgICAgICAgSU5ERVggaWR4X3VzZXJfaWQgKHVzZXJfaWQpLFxyXG4gICAgICAgIElOREVYIGlkeF9zdGF0dXMgKHN0YXR1cyksXHJcbiAgICAgICAgSU5ERVggaWR4X2NyZWF0ZWRfYXQgKGNyZWF0ZWRfYXQpXHJcbiAgICAgICkgRU5HSU5FPUlubm9EQiBERUZBVUxUIENIQVJTRVQ9dXRmOG1iNCBDT0xMQVRFPXV0ZjhtYjRfdW5pY29kZV9jaVxyXG4gICAgYClcclxuICAgIGNvbnNvbGUubG9nKCfinJMgR2VuZXJhdGlvbiBqb2JzIHRhYmxlIGNyZWF0ZWQvdmVyaWZpZWQnKVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBzZXR1cCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IScpXHJcbiAgICByZXR1cm4gdHJ1ZVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBzZXR1cCBlcnJvcjonLCBlcnJvcilcclxuICAgIFxyXG4gICAgLy8gSWYgZm9yZWlnbiBrZXkgY29uc3RyYWludCBmYWlscywgdHJ5IGNyZWF0aW5nIHRhYmxlcyB3aXRob3V0IGZvcmVpZ24ga2V5cyBmaXJzdFxyXG4gICAgaWYgKGVycm9yLmNvZGUgPT09ICdFUl9OT19SRUZFUkVOQ0VEX1JPV18yJyB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdmb3JlaWduIGtleScpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdSZXRyeWluZyB3aXRob3V0IGZvcmVpZ24ga2V5IGNvbnN0cmFpbnRzLi4uJylcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBEcm9wIGFuZCByZWNyZWF0ZSBzZXNzaW9ucyB0YWJsZSB3aXRob3V0IEZLXHJcbiAgICAgICAgYXdhaXQgcXVlcnlEQignRFJPUCBUQUJMRSBJRiBFWElTVFMgdXNlcl9zZXNzaW9ucycpXHJcbiAgICAgICAgYXdhaXQgcXVlcnlEQihgXHJcbiAgICAgICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyB1c2VyX3Nlc3Npb25zIChcclxuICAgICAgICAgICAgaWQgSU5UIEFVVE9fSU5DUkVNRU5UIFBSSU1BUlkgS0VZLFxyXG4gICAgICAgICAgICB1c2VyX2lkIElOVCBOT1QgTlVMTCxcclxuICAgICAgICAgICAgc2Vzc2lvbl90b2tlbiBWQVJDSEFSKDI1NSkgTk9UIE5VTEwgVU5JUVVFLFxyXG4gICAgICAgICAgICBleHBpcmVzX2F0IFRJTUVTVEFNUCBOT1QgTlVMTCxcclxuICAgICAgICAgICAgY3JlYXRlZF9hdCBUSU1FU1RBTVAgREVGQVVMVCBDVVJSRU5UX1RJTUVTVEFNUCxcclxuICAgICAgICAgICAgSU5ERVggaWR4X3Nlc3Npb25fdG9rZW4gKHNlc3Npb25fdG9rZW4pLFxyXG4gICAgICAgICAgICBJTkRFWCBpZHhfdXNlcl9pZCAodXNlcl9pZClcclxuICAgICAgICAgICkgRU5HSU5FPUlubm9EQiBERUZBVUxUIENIQVJTRVQ9dXRmOG1iNCBDT0xMQVRFPXV0ZjhtYjRfdW5pY29kZV9jaVxyXG4gICAgICAgIGApXHJcblxyXG4gICAgICAgIC8vIERyb3AgYW5kIHJlY3JlYXRlIHZpZGVvcyB0YWJsZSB3aXRob3V0IEZLXHJcbiAgICAgICAgYXdhaXQgcXVlcnlEQignRFJPUCBUQUJMRSBJRiBFWElTVFMgdXNlcl92aWRlb3MnKVxyXG4gICAgICAgIGF3YWl0IHF1ZXJ5REIoYFxyXG4gICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgdXNlcl92aWRlb3MgKFxyXG4gICAgICAgICAgICBpZCBJTlQgQVVUT19JTkNSRU1FTlQgUFJJTUFSWSBLRVksXHJcbiAgICAgICAgICAgIHVzZXJfaWQgSU5UIE5PVCBOVUxMLFxyXG4gICAgICAgICAgICBzY3JpcHQgVEVYVCBOT1QgTlVMTCxcclxuICAgICAgICAgICAgdmlkZW9fdXJsIFZBUkNIQVIoNTAwKSBOVUxMLFxyXG4gICAgICAgICAgICBnZW5lcmF0aW9uX2lkIFZBUkNIQVIoMjU1KSBOVUxMLFxyXG4gICAgICAgICAgICBzdGF0dXMgRU5VTSgnZHJhZnQnLCAncHJvY2Vzc2luZycsICdjb21wbGV0ZWQnLCAnZmFpbGVkJykgREVGQVVMVCAnZHJhZnQnLFxyXG4gICAgICAgICAgICBzdG9yeWJvYXJkIEpTT04gTlVMTCxcclxuICAgICAgICAgICAgdmlkZW9fZGF0YSBKU09OIE5VTEwsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAsXHJcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVAgT04gVVBEQVRFIENVUlJFTlRfVElNRVNUQU1QLFxyXG4gICAgICAgICAgICBJTkRFWCBpZHhfdXNlcl9pZCAodXNlcl9pZCksXHJcbiAgICAgICAgICAgIElOREVYIGlkeF9zdGF0dXMgKHN0YXR1cyksXHJcbiAgICAgICAgICAgIElOREVYIGlkeF9jcmVhdGVkX2F0IChjcmVhdGVkX2F0KVxyXG4gICAgICAgICAgKSBFTkdJTkU9SW5ub0RCIERFRkFVTFQgQ0hBUlNFVD11dGY4bWI0IENPTExBVEU9dXRmOG1iNF91bmljb2RlX2NpXHJcbiAgICAgICAgYClcclxuICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2Ugc2V0dXAgY29tcGxldGVkICh3aXRob3V0IGZvcmVpZ24ga2V5cykhJylcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICB9IGNhdGNoIChyZXRyeUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignUmV0cnkgYWxzbyBmYWlsZWQ6JywgcmV0cnlFcnJvcilcclxuICAgICAgICB0aHJvdyByZXRyeUVycm9yXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhyb3cgZXJyb3JcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImNvbm5lY3REQiIsInF1ZXJ5REIiLCJzZXR1cERhdGFiYXNlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiY29kZSIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsInJldHJ5RXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/setup-db.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/mysql2","vendor-chunks/iconv-lite","vendor-chunks/aws-ssl-profiles","vendor-chunks/sqlstring","vendor-chunks/seq-queue","vendor-chunks/long","vendor-chunks/safer-buffer","vendor-chunks/named-placeholders","vendor-chunks/lru.min","vendor-chunks/is-property","vendor-chunks/generate-function","vendor-chunks/denque"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Froute&page=%2Fapi%2Fauth%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Froute.js&appDir=D%3A%5Cureka%20work%5Cwebsite%5CUREKA%5Cipp-project%5CAI%20For%20Social%20Impact%20Director%5CAI%20For%20Social%20Impact%20Director%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cureka%20work%5Cwebsite%5CUREKA%5Cipp-project%5CAI%20For%20Social%20Impact%20Director%5CAI%20For%20Social%20Impact%20Director&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();